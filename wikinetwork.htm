<!DOCTYPE html>
<meta charset="utf-8">
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="wikinetwork.css" media="screen" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	  <script src="https://d3js.org/d3.v4.min.js"></script>
	  <script src="force_directed_network.js"></script>
 		<script>
				function fetchGraph() {
					var title = $("#searchField").val();
					console.log(title);
					$.ajax({url: "http://localhost:3000/process_get?title=" + title,
						error: function (error) {
							console.error(error);
						},
						success: function (res) {
							console.log("success test");
							var svg = d3.select("svg");
							initD3(svg);
							displayGraph(svg, res);
						}
					});
				}
		</script>

	</head>

    <body>


		<!-- Sidebar -->
		<div class="sidebar">
		  <a href="#about">About</a>
		  <a href="#nodeinfo">Node Info</a>
		    <BLOCKQUOTE id="nodename"> </BLOCKQUOTE>
		    <BLOCKQUOTE id="nodeurl"> </BLOCKQUOTE>
		    <BLOCKQUOTE id="nodecategories"> </BLOCKQUOTE>
		    <BLOCKQUOTE id="nodedescription"> </BLOCKQUOTE>
		  <a><button type="button" class="btn btn-default" onclick="handleDelete()">Delete Node</button></a>

		</div>
		<!-- /sidebar-->


		<div class="main">
		  <h3>Welcome to WikiNetwork</h3>
		  <form action = "http://127.0.0.1:3000/clear" method = "GET">
			 <input type = "submit" value = "Clear Graph">
		  </form>

		  <p>Please enter a Wikipedia subject in the field and click Search</p>
			<button onclick="fetchGraph()" type="button">Search</button>
			<input id="searchField" type="text">
		</div>
		<svg width="960" height="600"></svg>

    </body>
</html>
